<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Random Image</title>
<style>
:root {
	--safe-top: env(safe-area-inset-top);
	--safe-right: env(safe-area-inset-right);
	--safe-bottom: env(safe-area-inset-bottom);
	--safe-left: env(safe-area-inset-left);
}
html, body {
	height: 100%;
}
body {
	margin: 0;
	padding: 0;
	background: #000;
	color: #fff;
	display: grid;
	place-items: center;
	overflow: hidden;
	touch-action: manipulation; /* prevent double-tap zoom */
	-webkit-tap-highlight-color: transparent;
}
.main {
	width: calc(100vw - var(--safe-left) - var(--safe-right));
	height: calc(100vh - var(--safe-top) - var(--safe-bottom));
	display: grid;
	place-items: center;
	position: relative; /* to anchor overlay over the image area */
}
img#photo {
	width: 100%;
	height: 100%;
	object-fit: contain;
	user-select: none;
	-webkit-user-drag: none;
}

#overlay {
	position: absolute; /* overlay directly over the image container */
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
	display: none; /* toggled to grid when visible */
	place-items: center;
	background: rgba(0,0,0,0); /* ensure fully transparent */
	color: #fff;
	font-size: clamp(32px, 10vw, 96px);
	font-weight: 700;
	text-align: center;
	line-height: 1.2;
	letter-spacing: 0.5px;
	user-select: none;
	pointer-events: none; /* allow taps to pass through */
	z-index: 2; /* ensure overlay text is above the image */
}
</style>
</head>
<body>
	<div class="main">
		<img id="photo" alt="Random" src="" />
	</div>
	<div id="overlay" aria-hidden="true"></div>
<script>
(function() {
	const imageNames = [
		"00.png",
		"04.jpg",
		"06.png",
		"10.png",
		"11.png",
		"12.png",
		"13.png",
		"14.png",
		"15.png",
		"17.png",
		"19.png",
		"32.png",
		"33.png",
		"34.jpg",
		"46.png",
		"48.png",
		"49.jpg",
		"50.jpg",
		"55.png",
		"56.png",
		"60.png",
		"61.png",
		"62.png",
		"64.png",
		"68.png",
		"73.png",
		"79.png",
		"80.png",
		"81.png",
		"88.png"
	];

	const basePath = 'img/';
	const imgEl = document.getElementById('photo');
	const overlayEl = document.getElementById('overlay');
	let lastIndex = -1;
	let isTransitioning = false;

	function getBaseName(fileName) {
		return fileName.replace(/\.[^.]+$/, '');
	}

	function pickNextIndex() {
		if (imageNames.length === 1) return 0;
		let idx;
		do {
			idx = Math.floor(Math.random() * imageNames.length);
		} while (idx === lastIndex);
		lastIndex = idx;
		return idx;
	}

	function showRandomImage() {
		const idx = pickNextIndex();
		imgEl.src = basePath + imageNames[idx];
	}

	window.addEventListener('DOMContentLoaded', showRandomImage, { once: true });

	// Use pointer events so it works on both touch and mouse without double-firing
	window.addEventListener('pointerdown', function(ev) {
		if (ev.isPrimary === false) return; // ignore secondary pointers
		if (isTransitioning) return;
		isTransitioning = true;

		// Show current image name first; then switch
		if (lastIndex < 0) {
			showRandomImage();
			isTransitioning = false;
			return;
		}

		const currentFile = imageNames[lastIndex];
		const nameToShow = getBaseName(currentFile);

		overlayEl.textContent = nameToShow;
		overlayEl.style.display = 'grid';

		setTimeout(function() {
			overlayEl.style.display = 'none';
			showRandomImage();
			isTransitioning = false;
		}, 500);
	});
})();
</script>
</body>
</html>


